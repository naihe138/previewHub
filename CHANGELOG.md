# PreviewHub 更新日志

## v1.3.0 (2026-02-10) - 图片预览准确性与体验优化

### 🐛 重要Bug修复
- **修复图片显示顺序错误**: 解决了点击图片时弹出预览显示错误图片的问题
  - ✅ 改进图片点击处理逻辑，传递实际图片元素而非索引
  - ✅ 实现智能图片匹配算法，通过元素引用和URL多重匹配确保准确性
  - ✅ 解决了DOM变化导致的图片索引不一致问题
  - ✅ 确保点击的图片与预览显示的图片完全一致

### 🎨 用户体验改进
- **优化预览弹窗尺寸**: 提供更大的图片预览空间
  - ✅ 弹窗宽度从 800px 增加到 1366px（增加约70%）
  - ✅ 最大宽度从 90vw 提升到 95vw
  - ✅ 最大高度从 90vh 提升到 95vh
  - ✅ 图片最大显示高度从 60vh 增加到 75vh（增加25%）
  - ✅ 充分利用屏幕空间，提供更好的图片查看体验

### 🔧 技术改进
- 重构 `setupImageClickHandlers()` 方法，优化事件处理
- 增强 `openPreview()` 方法，添加智能图片匹配逻辑
- 改进图片元素追踪机制，提高准确性和可靠性

---

## v1.2.0 (2024-12-19) - 图片缩放体验优化

### 🎯 重要修复
- **修复小图片缩放问题**: 解决了小尺寸图片(如10px×10px)在弹窗中缩放和拖拽受限的问题
  - ✅ 缩放操作现在基于视窗容器而非原始图片尺寸
  - ✅ 小图片现在可以正常放大和拖拽移动
  - ✅ 改进了缩放边界计算逻辑

### 🔧 功能改进
- **优化缩放体验**: 
  - 支持缩小到50%，对大图片更友好
  - 根据当前缩放级别动态调整缩放步长
  - 小缩放级别时使用更精细的步长(0.1)
  - 大缩放级别时使用更大的步长(0.5)
- **改进拖拽边界算法**: 
  - 基于图片实际显示尺寸而非DOM尺寸计算边界
  - 考虑容器padding和最大显示高度限制
  - 缩小模式下自动居中显示

### 🐛 Bug修复
- 修复了极小图片无法正常缩放的问题
- 修复了缩放后拖拽范围过小的问题
- 改进了图片在容器中的定位计算

---

## v1.1.0 (2024-12-18) - 全面Markdown支持

### 🎉 新功能
- **全面.md文件支持**: 现在支持所有.md文件的图片预览，不仅限于README.md
  - ✅ README.md 文件
  - ✅ 项目文档文件 (docs/*.md)
  - ✅ Wiki页面
  - ✅ 任意.md文件
- **智能容器检测**: 改进了Markdown内容检测逻辑，支持更多GitHub页面类型
- **增强的页面监控**: 优化SPA路由变化检测，确保在所有.md文件页面都能正常工作

### 🔧 技术改进
- 重构 `getReadmeContainer()` → `getMarkdownContainer()`
- 添加更多CSS选择器以支持不同类型的Markdown页面
- 改进页面变化检测逻辑
- 保持向后兼容性

### 📝 文档更新
- 更新所有文档以反映新的全面Markdown支持
- 更新插件描述和功能说明
- 更新宣传海报和商店描述

### 🐛 Bug修复
- 修复了只能在README.md文件中预览图片的限制
- 改进了在GitHub.dev编辑器中的兼容性
- 优化了图片检测的准确性

---

## v1.0.0 (2024-12-XX) - 首次发布

### ✨ 核心功能
- 🖼️ GitHub图片预览功能
- 🔍 智能图片检测和URL解析
- 🖱️ 一键预览和弹窗浏览
- 📥 图片下载功能
- ⌨️ 键盘导航支持
- 🌙 深色模式适配
- 📱 响应式设计
- 💻 GitHub.com和GitHub.dev双平台支持

### 🛠️ 技术特性
- Manifest V3标准
- 无外部依赖
- 轻量级设计
- 高性能表现

### 📦 发布内容
- Chrome浏览器插件
- 完整的文档和使用指南
- 开源代码和MIT许可证
