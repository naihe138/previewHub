# PreviewHub 测试指南

## 🧪 测试用例

### 基础功能测试

#### 测试1：基本图片预览
1. **目标**: 验证基本的图片预览功能
2. **步骤**:
   - 访问 https://github.com/microsoft/vscode
   - 滚动到README.md部分
   - 点击任意图片
3. **预期结果**: 
   - 弹出预览窗口
   - 图片正常显示
   - 可以关闭窗口

#### 测试2：预览按钮功能
1. **目标**: 验证"预览图片"按钮
2. **步骤**:
   - 访问包含图片的GitHub项目
   - 查找"预览图片"按钮
   - 点击按钮
3. **预期结果**:
   - 显示图片数量
   - 弹出预览窗口
   - 显示第一张图片

#### 测试3：图片导航
1. **目标**: 验证多图片导航功能
2. **步骤**:
   - 在预览窗口中点击左右箭头
   - 使用键盘方向键
   - 检查图片计数器
3. **预期结果**:
   - 可以切换图片
   - 计数器正确更新
   - 循环导航工作正常

#### 测试4：键盘快捷键
1. **目标**: 验证键盘操作
2. **步骤**:
   - 打开预览窗口
   - 按左右方向键
   - 按ESC键
3. **预期结果**:
   - 方向键切换图片
   - ESC键关闭窗口

#### 测试5：GitHub.dev兼容性
1. **目标**: 验证GitHub.dev编辑器支持
2. **步骤**:
   - 访问任意GitHub项目
   - 按"."键打开GitHub.dev
   - 测试预览功能
3. **预期结果**:
   - 插件正常工作
   - 所有功能可用

### 边界情况测试

#### 测试6：无图片页面
1. **目标**: 验证无图片时的行为
2. **步骤**:
   - 访问没有图片的README
3. **预期结果**:
   - 不显示预览按钮
   - 插件状态显示"未发现README图片"

#### 测试7：图片加载失败
1. **目标**: 验证图片加载失败的处理
2. **步骤**:
   - 找到包含失效图片链接的README
   - 尝试预览
3. **预期结果**:
   - 显示"图片加载失败"消息
   - 其他图片仍可正常预览

#### 测试8：大图片处理
1. **目标**: 验证大尺寸图片的显示
2. **步骤**:
   - 预览大尺寸图片
3. **预期结果**:
   - 图片适当缩放
   - 不超出窗口范围
   - 保持宽高比

### 用户体验测试

#### 测试9：响应式设计
1. **目标**: 验证不同屏幕尺寸的适配
2. **步骤**:
   - 调整浏览器窗口大小
   - 测试预览功能
3. **预期结果**:
   - 预览窗口适应屏幕
   - 按钮和控件正常显示

#### 测试10：深色模式
1. **目标**: 验证深色主题适配
2. **步骤**:
   - 在GitHub设置中启用深色主题
   - 测试预览功能
3. **预期结果**:
   - 预览窗口使用深色主题
   - 文字和按钮可见性良好

## 🔍 测试环境

### 推荐测试页面
以下GitHub项目包含丰富的README图片，适合测试：

1. **Microsoft VSCode**: https://github.com/microsoft/vscode
   - 包含多张截图
   - 图片格式多样

2. **React**: https://github.com/facebook/react
   - 包含logo和示例图片

3. **Vue.js**: https://github.com/vuejs/vue
   - 包含架构图和logo

4. **Node.js**: https://github.com/nodejs/node
   - 包含logo和徽章

### 浏览器兼容性
- ✅ Chrome 88+
- ✅ Edge 88+
- ❌ Firefox (不支持Manifest V3)
- ❌ Safari (不支持Chrome扩展)

## 🐛 常见问题排查

### 问题1：插件不工作
**症状**: 点击图片没有反应
**排查步骤**:
1. 检查是否在GitHub页面
2. 打开开发者工具查看错误
3. 确认插件已启用
4. 重新加载页面

### 问题2：预览窗口不显示
**症状**: 点击后没有弹窗
**排查步骤**:
1. 检查浏览器弹窗拦截设置
2. 查看控制台错误信息
3. 确认图片URL有效

### 问题3：图片显示异常
**症状**: 图片模糊或变形
**排查步骤**:
1. 检查原图片质量
2. 确认网络连接正常
3. 尝试刷新页面

## 📊 测试报告模板

```
测试日期: [日期]
测试环境: Chrome [版本] on [操作系统]
测试页面: [GitHub URL]

测试结果:
□ 基本预览功能 - 通过/失败
□ 预览按钮功能 - 通过/失败
□ 图片导航 - 通过/失败
□ 键盘快捷键 - 通过/失败
□ GitHub.dev兼容 - 通过/失败

发现问题:
1. [问题描述]
2. [问题描述]

建议改进:
1. [改进建议]
2. [改进建议]
```

## 🚀 性能测试

### 加载性能
- 插件初始化时间 < 1秒
- 图片预览打开时间 < 0.5秒
- 内存使用 < 10MB

### 稳定性测试
- 连续预览50张图片无崩溃
- 快速切换图片无卡顿
- 长时间使用无内存泄漏
