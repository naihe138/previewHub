<!DOCTYPE html>
<html>
<head>
    <title>PreviewHub Icon Generator - GitHub Style</title>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans', Helvetica, Arial, sans-serif; 
            padding: 20px; 
            background: #f6f8fa;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
        }
        h1 {
            color: #24292f;
            text-align: center;
            margin-bottom: 30px;
        }
        .preview-section {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            padding: 20px;
            background: #f6f8fa;
            border-radius: 8px;
        }
        canvas { 
            border: 2px solid #d1d9e0; 
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .canvas-label {
            text-align: center;
            margin-top: 8px;
            font-size: 12px;
            color: #656d76;
            font-weight: 500;
        }
        .canvas-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        button { 
            padding: 12px 24px; 
            margin: 8px; 
            background: #0969da; 
            color: white; 
            border: none; 
            border-radius: 6px; 
            cursor: pointer;
            font-weight: 500;
            font-size: 14px;
            transition: all 0.2s ease;
        }
        button:hover { 
            background: #0860ca;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(9, 105, 218, 0.3);
        }
        .button-group {
            text-align: center;
            margin: 20px 0;
        }
        .status { 
            margin-top: 20px; 
            padding: 16px; 
            background: #dafbe1; 
            border: 1px solid #2da44e;
            border-radius: 6px;
            display: none;
            text-align: center;
            color: #1a7f37;
            font-weight: 500;
        }
        .description {
            background: #fff8dc;
            border: 1px solid #d4a72c;
            border-radius: 6px;
            padding: 16px;
            margin-bottom: 20px;
            color: #6f4e37;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ–¼ï¸ PreviewHub å›¾æ ‡ç”Ÿæˆå™¨</h1>
        
        <div class="description">
            <strong>å¾®è°ƒè®¾è®¡ç†å¿µï¼š</strong>GitHubå›¾æ ‡ä¸å›¾ç‰‡å›¾æ ‡çš„å®Œç¾ç»“åˆï¼Œç»è¿‡ç²¾å¿ƒè°ƒæ•´çš„å¸ƒå±€æ¯”ä¾‹ã€‚
            <br><br>
            <strong>è®¾è®¡å…ƒç´ ï¼š</strong>
            <ul style="margin: 10px 0; padding-left: 20px;">
                <li>GitHubå®˜æ–¹è“è‰²èƒŒæ™¯ (#0969da)</li>
                <li>å¾®è°ƒåçš„GitHubå›¾æ ‡ (ä½ç½®: y=48, ç¼©æ”¾: 1.3x)</li>
                <li>ç®€æ´çš„å›¾ç‰‡æ¡†æ¶ (ä¸‹åŠéƒ¨åˆ†)</li>
                <li>å±±å³°å›¾æ ‡è¡¨ç¤ºå›¾ç‰‡å†…å®¹</li>
                <li>å¤ªé˜³å›¾æ ‡ä¸GitHubå›¾æ ‡å±…ä¸­å¯¹é½</li>
            </ul>
        </div>
        
        <div class="preview-section">
            <div class="canvas-container">
                <canvas id="canvas16" width="16" height="16"></canvas>
                <div class="canvas-label">16Ã—16</div>
            </div>
            <div class="canvas-container">
                <canvas id="canvas48" width="48" height="48"></canvas>
                <div class="canvas-label">48Ã—48</div>
            </div>
            <div class="canvas-container">
                <canvas id="canvas128" width="128" height="128"></canvas>
                <div class="canvas-label">128Ã—128</div>
            </div>
            <div class="canvas-container">
                <canvas id="canvas512" width="512" height="512"></canvas>
                <div class="canvas-label">512Ã—512</div>
            </div>
        </div>
        
        <div class="button-group">
            <button onclick="generateAndDownload()">ğŸ¨ ç”Ÿæˆå¹¶ä¸‹è½½å›¾æ ‡</button>
            <button onclick="generateIcons()" style="background: #6e7681;">ğŸ‘€ ä»…ç”Ÿæˆé¢„è§ˆ</button>
        </div>
        
        <div id="status" class="status"></div>
    </div>

    <script>
        function drawPreviewHubIcon(canvas, size) {
            const ctx = canvas.getContext('2d');
            const scale = size / 128; // åŸºäº128pxè®¾è®¡ç¼©æ”¾
            
            // æ¸…ç©ºç”»å¸ƒ
            ctx.clearRect(0, 0, size, size);
            
            // ç¼©æ”¾ä¸Šä¸‹æ–‡
            ctx.save();
            ctx.scale(scale, scale);
            
            // GitHubè“è‰²èƒŒæ™¯
            ctx.fillStyle = '#0969da';
            ctx.beginPath();
            roundRect(ctx, 4, 4, 120, 120, 20);
            ctx.fill();
            
            // GitHubå›¾æ ‡ - å¾®è°ƒç‰ˆ (ä¸ŠåŠéƒ¨åˆ†)
            if (size >= 32) {
                ctx.fillStyle = '#ffffff';
                drawGitHubIcon(ctx, 64, 48, 31); // ä¸­å¿ƒç‚¹å’Œæ”¾å¤§çš„å¤§å° (24 * 1.3 = 31.2 â‰ˆ 31)
            } else {
                // 16pxç‰ˆæœ¬ä½¿ç”¨æ›´ç®€å•çš„GitHubå›¾æ ‡
                ctx.fillStyle = '#ffffff';
                ctx.beginPath();
                ctx.arc(64, 48, 12, 0, 2 * Math.PI);
                ctx.fill();
                
                // ç®€å•çš„GitHubæ ‡è¯†
                ctx.fillStyle = '#0969da';
                ctx.font = 'bold 10px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('G', 64, 52);
            }
            
            // å¤ªé˜³ - ä¸GitHubå›¾æ ‡å‚ç›´å±…ä¸­å¯¹é½
            ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
            ctx.beginPath();
            ctx.arc(85, 48, 3, 0, 2 * Math.PI);
            ctx.fill();
            
            // å›¾ç‰‡æ¡†æ¶ (ä¸‹åŠéƒ¨åˆ†)
            ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
            ctx.beginPath();
            roundRect(ctx, 20, 78, 88, 36, 4);
            ctx.fill();
            
            // å±±å³°å›¾æ ‡ï¼ˆå›¾ç‰‡å†…å®¹ï¼‰
            ctx.fillStyle = 'rgba(9, 105, 218, 0.8)';
            ctx.beginPath();
            ctx.moveTo(28, 106);
            ctx.lineTo(40, 93);
            ctx.lineTo(52, 100);
            ctx.lineTo(64, 86);
            ctx.lineTo(76, 96);
            ctx.lineTo(88, 90);
            ctx.lineTo(100, 104);
            ctx.lineTo(100, 106);
            ctx.closePath();
            ctx.fill();
            
            // å›¾ç‰‡è¾¹æ¡†
            ctx.strokeStyle = 'rgba(9, 105, 218, 0.3)';
            ctx.lineWidth = 1;
            ctx.beginPath();
            roundRect(ctx, 20, 78, 88, 36, 4);
            ctx.stroke();
            
            ctx.restore();
        }
        
        // ç»˜åˆ¶ç®€åŒ–çš„GitHubå›¾æ ‡
        function drawGitHubIcon(ctx, centerX, centerY, radius) {
            const scale = radius / 24; // åŸºäºGitHubå›¾æ ‡å°ºå¯¸ç¼©æ”¾
            
            ctx.save();
            ctx.translate(centerX, centerY);
            ctx.scale(scale, scale);
            
            // GitHubå›¾æ ‡è·¯å¾„ (ç¼©å°ç‰ˆ)
            ctx.beginPath();
            ctx.moveTo(0, -24);
            ctx.bezierCurveTo(-13.2, -24, -24, -13.2, -24, 0);
            ctx.bezierCurveTo(-24, 10.6, -17.1, 19.5, -7.7, 22.7);
            ctx.lineTo(-7.7, 18.8);
            ctx.bezierCurveTo(-14.3, 17.3, -15.7, 15.6, -15.7, 15.6);
            ctx.bezierCurveTo(-16.8, 12.9, -18.3, 12.2, -18.3, 12.2);
            ctx.bezierCurveTo(-20.4, 10.7, -18.2, 10.8, -18.2, 10.8);
            ctx.bezierCurveTo(-15.8, 10.9, -14.5, 13.3, -14.5, 13.3);
            ctx.bezierCurveTo(-12.4, 16.9, -9, 15.8, -7.6, 15.2);
            ctx.bezierCurveTo(-7.4, 13.7, -6.8, 12.7, -6.1, 12.1);
            ctx.bezierCurveTo(-11.4, 11.5, -17, 9.5, -17, 0.3);
            ctx.bezierCurveTo(-17, -2.3, -16.1, -4.4, -14.5, -6.1);
            ctx.bezierCurveTo(-14.7, -6.7, -15.6, -9.2, -14.3, -12.5);
            ctx.bezierCurveTo(-14.3, -12.5, -12.3, -13.1, -7.8, -10);
            ctx.bezierCurveTo(-5.9, -10.6, -3.8, -10.8, -1.8, -10.8);
            ctx.bezierCurveTo(0.2, -10.8, 2.3, -10.6, 4.2, -10);
            ctx.bezierCurveTo(8.8, -13.1, 10.8, -12.5, 10.8, -12.5);
            ctx.bezierCurveTo(12.1, -9.2, 11.3, -6.7, 11, -6.1);
            ctx.bezierCurveTo(12.5, -4.4, 13.5, -2.3, 13.5, 0.3);
            ctx.bezierCurveTo(13.5, 9.5, 7.9, 11.5, 2.6, 12.1);
            ctx.bezierCurveTo(3.3, 12.7, 3.9, 13.7, 3.9, 15.3);
            ctx.lineTo(3.9, 20.1);
            ctx.bezierCurveTo(3.9, 20.7, 4.3, 21.4, 5.5, 22.7);
            ctx.bezierCurveTo(14.9, 19.5, 21.8, 10.6, 21.8, 0);
            ctx.bezierCurveTo(21.8, -13.2, 11.1, -24, 0, -24);
            ctx.closePath();
            ctx.fill();
            
            ctx.restore();
        }
        
        function roundRect(ctx, x, y, width, height, radius) {
            ctx.moveTo(x + radius, y);
            ctx.lineTo(x + width - radius, y);
            ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
            ctx.lineTo(x + width, y + height - radius);
            ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
            ctx.lineTo(x + radius, y + height);
            ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
            ctx.lineTo(x, y + radius);
            ctx.quadraticCurveTo(x, y, x + radius, y);
        }
        
        function generateIcons() {
            const sizes = [16, 48, 128, 512];
            sizes.forEach(size => {
                const canvas = document.getElementById(`canvas${size}`);
                drawPreviewHubIcon(canvas, size);
            });
            
            document.getElementById('status').style.display = 'block';
            document.getElementById('status').innerHTML = '<strong>âœ… å›¾æ ‡å·²ç”Ÿæˆï¼</strong>ç°åœ¨å¯ä»¥ç‚¹å‡»"ç”Ÿæˆå¹¶ä¸‹è½½å›¾æ ‡"æŒ‰é’®ä¿å­˜æ–‡ä»¶ã€‚';
        }
        
        function generateAndDownload() {
            generateIcons();
            
            const sizes = [16, 48, 128, 512];
            let downloadCount = 0;
            
            sizes.forEach((size, index) => {
                setTimeout(() => {
                    const canvas = document.getElementById(`canvas${size}`);
                    const link = document.createElement('a');
                    link.download = `icon${size}.png`;
                    link.href = canvas.toDataURL('image/png');
                    link.click();
                    
                    downloadCount++;
                    if (downloadCount === sizes.length) {
                        document.getElementById('status').innerHTML = '<strong>ğŸ‰ æ‰€æœ‰å›¾æ ‡å·²ä¸‹è½½å®Œæˆï¼</strong><br>è¯·å°†ä¸‹è½½çš„å›¾æ ‡æ–‡ä»¶ç§»åŠ¨åˆ° icons/ æ–‡ä»¶å¤¹ä¸­æ›¿æ¢ç°æœ‰æ–‡ä»¶ã€‚';
                    }
                }, index * 500);
            });
        }
        
        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨ç”Ÿæˆé¢„è§ˆ
        window.onload = generateIcons;
    </script>
</body>
</html>
